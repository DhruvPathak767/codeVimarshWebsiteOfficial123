<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    <%= pageTitle %>
  </title>
  <link rel="stylesheet" href="/output.css">
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="/css/admin.css">
  <link rel="stylesheet" href="/css/buttons.css">
  <link rel="stylesheet" href="/css/animations.css">
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;400;600;800&display=swap"
    rel="stylesheet">
  <style>
    .d {
      right: 20px;
    }
  </style>
</head>

<body class="antialiased selection:bg-primary selection:text-black">
  <canvas id="bg-canvas"></canvas>

  <div class="relative z-10 flex flex-col min-h-screen">
    <%- include('../partials/nav.ejs') %>

      <main class="flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
          <div class="flex justify-between items-center mb-12">
            <h1 class="text-3xl md:text-5xl font-display font-bold">
              Manage <span class="text-gradient">Team</span>
            </h1>
            <a href="/admin/team/new" class="btn-cyber px-6 py-3 text-sm font-bold rounded-sm uppercase tracking-wider">
              + Add New Member
            </a>
          </div>

          <% if (team.length> 0) { %>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
              <% for (let member of team) { %>
                <div
                  class="glass-effect rounded-2xl overflow-hidden border border-white/5 hover:border-primary/30 transition-all flex flex-col h-full">
                  <div class="relative w-full overflow-hidden bg-gray-900 group-hover:opacity-90 transition-opacity"
                    style="height: 280px;">
                    <img src="<%= member.image %>" alt="<%= member.name %>"
                      class="absolute inset-0 w-full h-full object-cover object-top transition-transform duration-700 hover:scale-110">

                  </div>
                  <div class="p-6 flex-grow flex flex-col">
                    <h3 class="text-xl font-bold text-white mb-1">
                      <%= member.name %>
                    </h3>
                    <p class="text-primary font-code text-sm mb-2">
                      <%= member.role %>
                    </p>
                    <div
                      class="absolute top-2  bg-black backdrop-blur-md px-3 py-1 rounded-full border border-white/10 shadow-xl d">
                      <span class="text-xs font-code text-primary uppercase tracking-wider">
                        <%= member.position %>
                      </span>
                    </div>
                    <% if (member.linkedin) { %>
                      <a href="<%= member.linkedin %>" target="_blank"
                        class="text-text-muted hover:text-primary transition-colors inline-block mt-2">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                          <path
                            d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                        </svg>
                      </a>
                      <% } %>

                        <div class="flex gap-4 mt-auto pt-6 border-t border-white/5">
                          <a href="/admin/team/edit/<%= member._id %>?edit=true"
                            class="flex-1 flex items-center justify-center gap-2 py-2.5 rounded-sm text-sm font-bold uppercase tracking-wider border border-primary/50 text-primary bg-primary/10 hover:bg-primary/20 hover:shadow-[0_0_20px_rgba(8,217,214,0.4)] transform hover:scale-105 transition-all duration-300">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                            </svg>
                            Edit
                          </a>
                          <form action="/admin/team/delete" method="POST" class="flex-1">
                            <input type="hidden" name="memberId" value="<%= member._id %>">
                            <button type="submit"
                              class="w-full flex items-center justify-center gap-2 py-2.5 rounded-sm text-sm font-bold uppercase tracking-wider border border-red-500/50 text-red-500 bg-red-500/10 hover:bg-red-500/20 hover:shadow-[0_0_20px_rgba(239,68,68,0.4)] transform hover:scale-105 transition-all duration-300">
                              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                              </svg>
                              Delete
                            </button>
                          </form>
                        </div>
                  </div>
                </div>
                <% } %>
            </div>
            <% } else { %>
              <div class="glass-effect p-12 rounded-2xl text-center border border-white/5">
                <div class="text-6xl mb-4">ğŸ‘¥</div>
                <h2 class="text-2xl font-bold text-white mb-2">No Team Members Found</h2>
                <p class="text-text-muted mb-8">Get started by adding your first team member.</p>
                <a href="/admin/team/new"
                  class="inline-block btn-cyber px-8 py-3 text-sm font-bold rounded-sm uppercase">
                  Add Member
                </a>
              </div>
              <% } %>
        </div>
      </main>

      <%- include('../partials/footer.ejs') %>
  </div>
  <script src="/js/home.js"></script>
</body>

</html>