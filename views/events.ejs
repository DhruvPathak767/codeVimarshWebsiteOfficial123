<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    <%= pageTitle %>
  </title>
  <link rel="stylesheet" href="/output.css">
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="/css/events.css">
  <link rel="stylesheet" href="/css/buttons.css">
  <link rel="stylesheet" href="/css/animations.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;400;600;800&display=swap"
    rel="stylesheet">
</head>

<body class="antialiased selection:bg-primary selection:text-black">
  <canvas id="bg-canvas"></canvas>

  <div class="relative z-10 flex flex-col min-h-screen">
    <%- include('./partials/nav.ejs') %>

      <main class="flex-grow pt-24 pb-12">
        <div class="text-center mb-16 px-4">
          <h1 class="text-4xl md:text-6xl font-display font-bold mb-4">
            <span class="text-gradient">Events</span>
          </h1>
          <div class="w-32 h-1 bg-gradient-to-r from-primary to-secondary mx-auto rounded-full"></div>
        </div>

        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <!-- Activities Cards -->
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20">
            <div class="glass-effect p-8 rounded-2xl hover:bg-white/5 transition-all group border-t border-white/5">
              <div class="text-4xl mb-6 group-hover:scale-110 transition-transform duration-300">‚ö°</div>
              <h3 class="text-xl font-bold text-white mb-3 group-hover:text-primary transition-colors">Hackathons</h3>
              <p class="text-text-muted text-sm">48-hour endurance coding marathons to build innovative solutions.</p>
            </div>
            <div class="glass-effect p-8 rounded-2xl hover:bg-white/5 transition-all group border-t border-white/5">
              <div class="text-4xl mb-6 group-hover:scale-110 transition-transform duration-300">üõ†Ô∏è</div>
              <h3 class="text-xl font-bold text-white mb-3 group-hover:text-primary transition-colors">Workshops</h3>
              <p class="text-text-muted text-sm">Interactive sessions on React, Node.js, Cloud, and AI/ML.</p>
            </div>
            <div class="glass-effect p-8 rounded-2xl hover:bg-white/5 transition-all group border-t border-white/5">
              <div class="text-4xl mb-6 group-hover:scale-110 transition-transform duration-300">üé§</div>
              <h3 class="text-xl font-bold text-white mb-3 group-hover:text-primary transition-colors">Tech Talks</h3>
              <p class="text-text-muted text-sm">Insights from industry leaders and alumni working at top tech firms.
              </p>
            </div>
            <div class="glass-effect p-8 rounded-2xl hover:bg-white/5 transition-all group border-t border-white/5">
              <div class="text-4xl mb-6 group-hover:scale-110 transition-transform duration-300">üèÜ</div>
              <h3 class="text-xl font-bold text-white mb-3 group-hover:text-primary transition-colors">Contests</h3>
              <p class="text-text-muted text-sm">Weekly coding contests to sharpen your DSA skills.</p>
            </div>
          </div>

          <!-- Upcoming Events Section -->
          <div class="mb-20">
            <h2 class="text-3xl font-display font-bold text-white mb-8 pl-4 border-l-4 border-primary">Upcoming Events
            </h2>

            <% if (upcomingEvents.length> 0) { %>
              <div class="space-y-6">
                <% for (let event of upcomingEvents) { %>
                  <div class="glass-effect p-6 rounded-2xl border border-white/5 hover:border-primary/30 transition-all 
           flex flex-col md:flex-row gap-8 items-center md:items-start group overflow-hidden 
           max-w-3xl mx-auto w-full">

                    <!-- Date Badge -->
                    <div class="flex-shrink-0 text-center md:text-left min-w-[80px]">
                      <div class="text-4xl font-bold text-secondary font-display">
                        <%= new Date(event.date).getDate() %>
                      </div>
                      <div class="text-sm text-text-muted font-code uppercase tracking-wider">
                        <%= new Date(event.date).toLocaleString('default', { month: 'short' }) %>
                      </div>
                    </div>

                    <!-- Event Image -->
                    <div class="w-full md:w-80 flex-shrink-0 rounded-lg overflow-hidden 
             relative border border-white/5 shadow-lg bg-gray-900" style="height: 256px;">
                      <img src="<%= event.image %>" alt="<%= event.title %>"
                        class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                      <!-- Status Badge -->
                      <div
                        class="absolute top-4 right-4 bg-primary/90 backdrop-blur-md px-3 py-1 rounded-full shadow-lg">
                        <span class="text-xs font-bold text-black uppercase tracking-wider">Upcoming</span>
                      </div>
                    </div>

                    <!-- Content -->
                    <div class="flex-grow text-center md:text-left min-w-0">
                      <div class="flex items-center justify-center md:justify-start gap-3 mb-3 flex-wrap bg-black/20 
               p-2 rounded-lg inline-flex">
                        <span class="px-3 py-1 text-xs font-bold bg-primary/20 text-primary rounded-full border border-primary/20 
                 uppercase tracking-wider">
                          <%= event.type %>
                        </span>
                        <span class="text-text-muted text-xs font-code flex items-center gap-1">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                          </svg>
                          <%= event.time %>
                        </span>
                      </div>
                      <h3
                        class="text-2xl md:text-3xl font-bold text-white mb-3 group-hover:text-primary transition-colors leading-tight">
                        <%= event.title %>
                      </h3>
                      <p class="text-text-muted text-sm leading-relaxed mb-4 line-clamp-3">
                        <%= event.description %>
                      </p>

                      <!-- Action -->
                      <div class="mt-auto">

                        <% if (event.registrationLink) { %>
                          <a href="<%= event.registrationLink %>" target="_blank" class="btn-cyber px-8 py-2.5 text-sm font-bold rounded-sm uppercase tracking-wide 
                 hover:shadow-[0_0_20px_rgba(8,217,214,0.3)] transition-all">
                            Register Now
                          </a>
                          <% } %>
                      </div>
                    </div>
                  </div>
                  <% } %>
              </div>
              <% } else { %>
                <div class="text-center py-12 glass-effect rounded-2xl border border-white/5 bg-white/5">
                  <p class="text-text-muted text-lg">No upcoming events scheduled. Stay tuned!</p>
                </div>
                <% } %>
          </div>

          <!-- Completed Events Section -->
          <div class="mb-20 opacity-80 hover:opacity-100 transition-opacity duration-300">
            <h2 class="text-3xl font-display font-bold text-text-muted mb-8 pl-4 border-l-4 border-white/20">Completed
              Events</h2>

            <% if (completedEvents.length> 0) { %>
              <div class="space-y-6">
                <% for (let event of completedEvents) { %>
                  <div class="glass-effect p-6 rounded-2xl border border-white/5 hover:border-white/10 transition-all 
           flex flex-col md:flex-row gap-8 items-center md:items-start group overflow-hidden 
           max-w-3xl mx-auto w-full grayscale hover:grayscale-0 duration-500">

                    <!-- Date Badge -->
                    <div class="flex-shrink-0 text-center md:text-left min-w-[80px]">
                      <div class="text-4xl font-bold text-text-muted font-display">
                        <%= new Date(event.date).getDate() %>
                      </div>
                      <div class="text-sm text-text-muted/60 font-code uppercase tracking-wider">
                        <%= new Date(event.date).toLocaleString('default', { month: 'short' }) %>
                      </div>
                    </div>

                    <!-- Event Image -->
                    <div class="w-full md:w-80 flex-shrink-0 rounded-lg overflow-hidden 
             relative border border-white/5 shadow-lg bg-gray-900" style="height: 256px;">
                      <img src="<%= event.image %>" alt="<%= event.title %>"
                        class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                      <!-- Status Badge -->
                      <div
                        class="absolute top-4 right-4 bg-black/60 backdrop-blur-md px-3 py-1 rounded-full border border-white/10">
                        <span class="text-xs font-bold text-text-muted uppercase tracking-wider">Completed</span>
                      </div>
                    </div>

                    <!-- Content -->
                    <div class="flex-grow text-center md:text-left min-w-0">
                      <div class="flex items-center justify-center md:justify-start gap-3 mb-3 flex-wrap bg-white/5 
               p-2 rounded-lg inline-flex">
                        <span class="px-3 py-1 text-xs font-bold bg-white/10 text-text-muted rounded-full border border-white/10 
                 uppercase tracking-wider">
                          <%= event.type %>
                        </span>
                        <span class="text-text-muted/60 text-xs font-code flex items-center gap-1">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                          </svg>
                          <%= event.time %>
                        </span>
                      </div>
                      <h3
                        class="text-2xl md:text-3xl font-bold text-text-muted mb-3 group-hover:text-white transition-colors leading-tight">
                        <%= event.title %>
                      </h3>
                      <p class="text-text-muted/60 text-sm leading-relaxed mb-4 line-clamp-3">
                        <%= event.description %>
                      </p>

                      <!-- Action (Disabled for completed) -->
                      <div class="mt-auto">
                        <button class="px-8 py-2.5 text-sm font-bold rounded-sm uppercase tracking-wide 
                 border border-white/10 text-text-muted cursor-not-allowed bg-white/5">
                          Event Ended
                        </button>
                      </div>
                    </div>
                  </div>
                  <% } %>
              </div>
              <% } else { %>
                <div class="text-center py-12">
                  <p class="text-text-muted text-lg">No completed events yet.</p>
                </div>
                <% } %>
          </div>

        </section>
      </main>

      <%- include('./partials/footer.ejs') %>
  </div>
  <script src="/js/home.js"></script>
</body>

</html>