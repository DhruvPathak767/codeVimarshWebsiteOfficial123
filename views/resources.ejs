<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    <%= pageTitle %>
  </title>
  <link rel="stylesheet" href="/output.css">
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="/css/resources.css">
  <link rel="stylesheet" href="/css/buttons.css">
  <link rel="stylesheet" href="/css/animations.css">
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;400;600;800&display=swap"
    rel="stylesheet">
</head>

<body class="antialiased selection:bg-primary selection:text-black">
  <canvas id="bg-canvas"></canvas>

  <div class="relative z-10 flex flex-col min-h-screen">
    <%- include('./partials/nav.ejs') %>

      <main class="flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
          <div class="text-center mb-16">
            <h1 class="text-4xl md:text-6xl font-display font-bold mb-6 animate-slide-up">
              Learning <span class="text-gradient">Resources</span>
            </h1>
            <p class="text-text-muted text-lg max-w-2xl mx-auto animate-slide-up" style="animation-delay: 0.1s;">
              Curated collection of DSA sheets, playlists, and tutorials to help you master coding.
            </p>
          </div>

          <% const categories=['dsa', 'playlist' , 'other' ]; const categoryTitles={ dsa: 'DSA Sheets' ,
            playlist: 'Youtube Playlists' , other: 'Other Resources' }; %>

            <% categories.forEach(cat=> {
              const catResources = resources.filter(r => r.category === cat);
              if (catResources.length > 0) {
              %>
              <section class="mb-16 animate-slide-up">
                <h2 class="text-2xl font-display font-bold text-white mb-8 border-l-4 border-primary pl-4">
                  <%= categoryTitles[cat] %>
                </h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                  <% catResources.forEach(resItem=> { %>
                    <div
                      class="glass-effect rounded-2xl overflow-hidden border border-white/5 hover:border-primary/30 hover:transform hover:-translate-y-1 transition-all duration-300 flex flex-col group h-full">
                      <div class="relative overflow-hidden" style="height: 192px;">
                        <img src="<%= resItem.imageUrl %>" alt="<%= resItem.title %>"
                          class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                      </div>
                      <div class="p-6 flex-grow flex flex-col">
                        <h3 class="text-xl font-bold text-white mb-2 group-hover:text-primary transition-colors">
                          <%= resItem.title %>
                        </h3>
                        <p class="text-text-muted text-sm mb-6 flex-grow">
                          <%= resItem.description %>
                        </p>
                        <a href="<%= resItem.link %>" target="_blank"
                          class="inline-flex items-center gap-2 text-primary font-code text-sm font-bold uppercase tracking-wider hover:text-white transition-colors">
                          <span>Access Resource</span>
                          <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-4 w-4 transform group-hover:translate-x-1 transition-transform" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M17 8l4 4m0 0l-4 4m4-4H3" />
                          </svg>
                        </a>
                      </div>
                    </div>
                    <% }) %>
                </div>
              </section>
              <% } }) %>

                <% if (resources.length===0) { %>
                  <div class="text-center py-20">
                    <p class="text-text-muted text-xl">No resources available at the moment. Check back soon!</p>
                  </div>
                  <% } %>

        </div>
      </main>

      <%- include('./partials/footer.ejs') %>
  </div>
  <script src="/js/home.js"></script>
</body>

</html>